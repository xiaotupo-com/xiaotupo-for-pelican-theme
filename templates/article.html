{% extends "base.html" %}
{% block html_lang %}{{ article.lang }}{% endblock %}

{% block head -%}
{{ super() -}}
{% if article.summary %}
    <meta name="description" content="{{ article.summary | striptags | safe | truncate(150) }}">
    <meta property="og:description" content="{{ article.summary | striptags | safe | truncate(150) }}">
{% endif %}

    <meta name="keywords" content="{% for t in article.tags %}{% if not loop.last %}{{ t }},{% else %}{{ t }}{% endif %}{% endfor %}">
    <meta property="article:tag" content="{% for t in article.tags %}{% if not loop.last %}{{ t }},{% else %}{{ t }}{% endif %}{% endfor %}">
{% if article.author %}
    <meta name="author" content="{{ article.author }}">
    <meta property="article:author" content="{{ article.author }}">
    
{% endif %}

    <meta property="og:title" content="{{ article.title }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ article.url }}">
    <meta property="og:site_name" content="{{ SITENAME }}">
    <meta property="og:locale" content="zh_CN">
    
{% endblock head %}

{# ç½‘ç«™æ ‡é¢˜ #}
{% block title %}{{ article.title|striptags }} - {{ SITENAME }}{% endblock %}

{% block content %}
{{ toc|safe }}
{# æ–‡ç« è¯¦æƒ…é¡µ #}
{% include "breadcrumb.html" %} {# æ–‡ç« è¯¦æƒ…é¡µé¢åŒ…å±‘å¯¼èˆª #}
<article class="article">
    <h2 class="title">
        {{ article.title|safe }}
    </h2>
    {% include 'article_infos.html' %}
    <div class="content">
        {{ article.content|safe }}

        <p>åˆ°è¿™é‡Œæœ¬æ–‡å°±å®Œäº†ï¼Œ[{{SITENAME}}] æ¬¢è¿æ‚¨å†æ¥ï¼</p>
    </div><!-- /.entry-content -->

    {% if article.original != "false" %}
    <div class="original">
        <div class="content">
            <p>ç‰ˆæƒå£°æ˜ï¼š<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 3.0</a></p>
            <p>æœ¬æ–‡åœ°å€ï¼š<a href="" target="_blank">{{ SITEURL }}/{{ article.url }}</a></p>
        </div>
    </div>
    {% endif %}
</article>

<!-- ä¸Šä¸€ç‰‡æ–‡ç« /ä¸‹ä¸€ç‰‡æ–‡ç« ğŸ‘† -->
<div class="next-prev-article">
    {# åˆ¤æ–­æ˜¯å¦æœ‰ä¸Šä¸‹ç¯‡æ–‡ç«  #}
    {% if article.next_article %}
    <p>
        <span>ä¸‹ä¸€ç¯‡ï¼š</span>
        <a class="next-article" href="{{ SITEURL }}/{{ article.next_article.url }}" title="{{ article.next_article.title }}">{{ article.next_article.title }}</a>
    </p>
    
    {% else %}

    {% endif %}

    {% if article.prev_article %}
    <p>
        <span>ä¸Šä¸€ç¯‡ï¼š</span>
        <a class="prev-article" href="{{ SITEURL }}/{{ article.prev_article.url }}" title="{{ article.prev_article.title }}">{{ article.prev_article.title }}</a>
    </p>
    
    {% else %}

    {% endif %}
</div>

<script src="https://giscus.app/client.js"
        data-repo="{{ GISCUS_DATA_REPO }}"
        data-repo-id="R_kgDOIdArzw"
        data-category="Announcements"
        data-category-id="DIC_kwDOIdArz84CSnQF"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
{% endblock %}

{# ä¾§æ  #}
{% block sidebar %}
{% include 'sidebar.html' %}
{% endblock sidebar %}